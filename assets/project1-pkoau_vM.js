import{W as g,S as u,P as L,b,A as H,D as f,G as y,e as P,c as h}from"./OrbitControls-LChilMiw.js";function v(n,o,c){return(1-c)*n+c*o}let e,s,r=0,w=0;const i=10;window.addEventListener("scroll",()=>{const n=window.scrollY,o=document.documentElement.scrollHeight,c=window.innerHeight,p=o-c;w=n/p*i});const t=document.querySelector("#canvas"),a=new g({canvas:t,antialias:!0});a.setSize(t.clientWidth,t.clientHeight,!1);a.setAnimationLoop(x);const d=new u,l=new L(15,t.clientWidth/t.clientHeight,.1,1e3),m=new b(l,a.domElement);m.enableZoom=!1;m.enablePan=!1;l.position.z=1;m.update();const A=new H("white",.3);d.add(A);const S=new f("white",2);d.add(S);const W=new y;W.load("toy-shape.glb",function(n){e=n.scene,d.add(e),console.log(n),s=new P(e);const o=n.animations;s.clipAction(o[0],e).play(),e.children[0].material=new h,e.children[0].material.transparent=!0,e.children[0].material.opacity=0,e.children[2].material=new h,e.children[2].material.transparent=!0,e.children[2].material.opacity=0});function x(){m.update(),r=v(r,w,.1),e&&(e.rotation.y+=.002,e.children[0].material.opacity=r/(i-i/2),e.children[2].material.opacity=(r-i/2)/(i-i/2),s&&s.setTime(i-r)),a.render(d,l)}window.addEventListener("resize",()=>{l.aspect=t.clientWidth/t.clientHeight,l.updateProjectionMatrix(),a.setSize(t.clientWidth,t.clientHeight,!1),a.setPixelRatio(Math.min(window.devicePixelRatio,2))});
